##Swapping Counters

A horizontal row comprising of 2n + 1 squares has n red counters placed at one end and n blue counters at the other end, being separated by a single empty square in the centre. For example, when n = 3.

A counter can move from one square to the next (slide) or can jump over another counter (hop) as long as the square next to that counter is unoccupied.

Let M(n) represent the minimum number of moves/actions to completely reverse the positions of the coloured counters; that is, move all the red counters to the right and all the blue counters to the left.
It can be verified M(3) = 15, which also happens to be a triangle number.
If we create a sequence based on the values of n for which M(n) is a triangle number then the first five terms would be:
1, 3, 10, 22, and 63, and their sum would be 99.
Find the sum of the first forty terms of this sequence.
##Меняющиеся фишки

В разных концах горизонтального ряда, состоящего из 2n + 1 клеток, расположены n красных фишек и n синих фишек, которые отделены между собой одной пустой клеткой в середине ряда. Например, при n = 3:

Фишку можно перемещать с одной клетки на ближайшую клетку (передвижение) или же можно перескочить через другую фишку (скачок), если ближайшая к этой фишке клетка свободна.

Пусть M(n) - минимальное число ходов/действий, которые надо совершить, чтоб полностью обратить положение окрашенных фишек, т.е., переместить все красные фишки в правую часть, а все синие - в левую.
Можно убедиться, что M(3) = 15, и, помимо этого, данное число является треугольным.
Если записать последовательность значений n, при которых M(n) являются треугольными числами, то первые пять членов этой последовательности будут:
1, 3, 10, 22 и 63, а их сумма составит 99.
Найдите сумму первых сорока членов такой последовательности.
