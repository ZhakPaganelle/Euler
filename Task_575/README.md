##Wandering Robots

It was quite an ordinary day when a mysterious alien vessel appeared as if from nowhere. After waiting several hours and receiving no response it is decided to send a team to investigate, of which you are included. Upon entering the vessel you are met by a friendly holographic figure, Katharina, who explains the purpose of the vessel, Eulertopia.
She claims that Eulertopia is almost older than time itself. Its mission was to take advantage of a combination of incredible computational power and vast periods of time to discover the answer to life, the universe, and everything. Hence the resident cleaning robot, Leonhard, along with his housekeeping responsibilities, was built with a powerful computational matrix to ponder the meaning of life as he wanders through a massive 1000 by 1000 square grid of rooms. She goes on to explain that the rooms are numbered sequentially from left to right, row by row. So, for example, if Leonhard was wandering around a 5 by 5 grid then the rooms would be numbered in the following way.
Many millenia ago Leonhard reported to Katharina to have found the answer and he is willing to share it with any life form who proves to be worthy of such knowledge.
Katharina further explains that the designers of Leonhard were given instructions to program him with equal probability of remaining in the same room or travelling to an adjacent room. However, it was not clear to them if this meant (i) an equal probability being split equally between remaining in the room and the number of available routes, or, (ii) an equal probability (50%) of remaining in the same room and then the other 50% was to be split equally between the number of available routes.
The records indicate that they decided to flip a coin. Heads would mean that the probability of remaining was dynamically related to the number of exits whereas tails would mean that they program Leonhard with a fixed 50% probability of remaining in a particular room. Unfortunately there is no record of the outcome of the coin, so without further information we would need to assume that there is equal probability of either of the choices being implemented.
Katharina suggests it should not be too challenging to determine that the probability of finding him in a square numbered room in a 5 by 5 grid after unfathomable periods of time would be approximately 0.177976190476 [12 d.p.].
In order to prove yourself worthy of visiting the great oracle you must calculate the probability of finding him in a square numbered room in the 1000 by 1000 lair in which he has been wandering.
(Give your answer rounded to 12 decimal places)
##Блуждающие роботы

В один достаточно обыкновенный день загадочный инопланетный корабль появился словно из ниоткуда. Прождав несколько часов и не получив никакого ответа, было решено отправить команду исследователей, в которую включили вас. Внутри корабля вас встретила дружелюбная голографическая голограмма Катарина, которая объяснила вам суть корабля Эйлертопии.
Она утверждает, что Эйлертопия стара, как само время. Миссия корабля - использовать комбинацию неимоверной вычислительной мощи и длительных промежутков времени, что найти ответ на главный вопрос жизни, вселенной и всего такого. Потому местный робот-уборщик Леонард, в дополнение к обязанностям уборки, был создан с мощной вычислительной матрицей для поиска смысла жизни, пока он бродит по огромной сети комнат 1000 на 1000. Катарина объясняет, что комнаты пронумерованы по порядку слева направо, ряд за рядом. Так, например, если бы Леонард бродил по сетке 5 на 5, комнаты были бы пронумерованы следующим образом:


Много тысячелетий назад Леонард сообщил Катарине, что он нашел ответ и готов поделиться им с любой формой жизни, которой покажет себя достойной такого знания.
Далее Катарина объяснила, что создателям Леонарда было сказано запрограммировать его с равной вероятностью остаться в той же комнате или переместиться в смежную комнату. Однако, им не было понятно, значило ли это (i) равную вероятность, разделенную одинаково между "остаться в комнате" и количеством возможных путей, или же (ii) равную вероятность (50%) остаться в той же комнате, и остальные 50%, разделенные одинаково между всеми возможными путями.



(i) Вероятность остаться зависит от количества выходов
(ii) Фиксированная вероятность остаться 50%

Записи показывают, что они решили бросить монету. Решка значит, что вероятность остаться будет динамически зависеть от количества выходов, в то время как орел значит, что они запрограммируют Леонарда с фиксированной вероятностью 50% остаться в конкретной комнате. К сожалению, запись резудьтата броска монеты не сохранилась, поэтому нам придется предположить, что существует одинаковая вероятность внедрения одного или другого алгоритма действий.
Катарина предполагает, что не слишком сложно определить, что вероятность найти Леонарда в комнате с номером, являющимся квадратом целого числа, в сетке 5 на 5 после неизмеримо долгого времени будет примерно равна 0.177976190476 (12 знака после десятичной точки).
Чтобы доказать, что вы достойны посетить великого оракула, вы должны рассчитать вероятность его нахождения в комнате с номером, являющимся квадратом целого числа, в его логове 1000 на 1000, по которому он бродит до сих пор.
(Дайте ответ, округленный до 12 знака после десятичной точки)
