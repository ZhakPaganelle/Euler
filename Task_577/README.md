##Counting hexagons

An equilateral triangle with integer side length $n \ge 3$ is divided into $n^2$ equilateral triangles with side length 1 as shown in the diagram below.
The vertices of these triangles constitute a triangular lattice with $\frac{(n+1)(n+2)} 2$ lattice points.
Let $H(n)$ be the number of all regular hexagons that can be found by connecting 6 of these points.

For example, $H(3)=1$, $H(6)=12$ and $H(20)=966$.
Find $\displaystyle \sum_{n=3}^{12345} H(n)$.
##Подсчет шестиугольников

Равносторонний треугольник с целочисленной длиной стороны $n \ge 3$ разделен на $n^2$  равносторонних треугольников с длиной стороны 1, как показано на изображении ниже.
Вершины этих треугольников образуют треугольную сетку с $\frac{(n+1)(n+2)} 2$ узлами.
Пусть $H(n)$ будет количеством всех правильных шестиугольников, которые можно образовать, соединив соответствующим образом 6 таких точек.



Подпись: "Случай для n=3 с одним возможным шестиугольником."


Например, $H(3)=1$, $H(6)=12$ и $H(20)=966$.
Найдите $\displaystyle \sum_{n=3}^{12345} H(n)$.
