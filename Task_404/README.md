##Crisscross Ellipses


Ea is an ellipse with an equation of the form x2 + 4y2 = 4a2.
Ea' is the rotated image of Ea by θ degrees counterclockwise around the origin O(0, 0) for 0° < θ < 90°.


b is the distance to the origin of the two intersection points closest to the origin and c is the distance of the two other intersection points.
We call an ordered triplet (a, b, c) a canonical ellipsoidal triplet if a, b and c are positive integers.
For example, (209, 247, 286) is a canonical ellipsoidal triplet.


Let C(N) be the number of distinct canonical ellipsoidal triplets (a, b, c) for a ≤ N.
It can be verified that C(103) = 7, C(104) = 106 and C(106) = 11845.


Find C(1017).

##Пересекающиеся эллипсы


Ea - эллипс, заданные уравнением x2 + 4y2 = 4a2.
Ea' - изображение эллипса Ea, повернутое на θ градусов против часовой стрелки вокруг начала координат O(0, 0) для 0° < θ < 90°.





b - расстояние от начала координат до двух ближайших точек пересечения эллипсов, а c - расстояние до двух других точек пересечения.
Назовем упорядоченную тройку (a, b, c) канонической эллипсоидной тройкой, если a, b и c - натуральные числа.
Например, (209, 247, 286) является канонической эллипсоидной тройкой.


Пусть C(N) будет количеством различных канонических эллипсоидных троек (a, b, c) для a ≤ N.
Можно показать, что C(103) = 7, C(104) = 106 и C(106) = 11845.


Найдите C(1017).

