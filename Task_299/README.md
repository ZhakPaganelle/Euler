##Three similar triangles

Four points with integer coordinates are selected:A(a, 0), B(b, 0), C(0, c) and D(0, d), 
with 0 < a < b and 0 < c < d.
Point P, also with integer coordinates, is chosen on the line AC so that the three triangles ABP, CDP and BDP are all similar.
It is easy to prove that the three triangles can be similar, only if a=c.
So, given that a=c, we are looking for triplets (a,b,d) such that at least one point P (with integer coordinates) exists on AC, making the three triangles ABP, CDP and BDP all similar.
For example, if (a,b,d)=(2,3,4), it can be easily verified that point P(1,1) satisfies the above condition. 
Note that the triplets (2,3,4) and (2,4,3) are considered as distinct, although point P(1,1) is common for both.
If b+d < 100, there are 92 distinct triplets (a,b,d) such that point P exists.
If b+d < 100 000, there are 320471 distinct triplets (a,b,d) such that point P exists.
If b+d < 100 000 000, how many distinct triplets (a,b,d) are there such that point P exists?
##Три подобных треугольника

Выбраны четыре точки с целочисленными координатами:A(a, 0), B(b, 0), C(0, c) и D(0, d),
где 0 < a < b, и 0 < c < d.
Точка P, также с целочисленными координатами, выбирается на прямой AC так, что все три треугольника ABP, CDP и BDP подобны.

Легко показать, что три треугольника могут быть подобны, только если a=c.
Таким образом, при условии a=c, мы ищем тройки чисел (a,b,d), такие, что на AC существует хотя бы одна точка P (с целочисленными координатами), которая делает все три треугольника ABP, CDP и BDP подобными.
Например, если (a,b,d)=(2,3,4), легко можно удостовериться, что точка P(1,1) удовлетворяет вышеупомянутому условию.
Заметьте, что тройки (2,3,4) и (2,4,3) считаются различными, хотя точка P(1,1) является общей для обеих.
При b+d < 100, существует 92 различных тройки (a,b,d), обеспечивающих существование точки P.
При b+d < 100 000, существует 320471 различных тройки (a,b,d), обеспечивающих существование точки P.
Сколько существует различных троек (a,b,d), обеспечивающих существование точки P, при b+d < 100 000 000?
